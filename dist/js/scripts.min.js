"use strict";function getPref(){return new Promise(function(e,n){chrome.storage.sync.get({darknPref:""},function(t){chrome.runtime.error?n():e(t)})})}function setPref(e){chrome.storage.sync.set({darknPref:e},function(){chrome.runtime.error})}function toggleUI(){var e=document.querySelector("body");e.classList.contains("darknUI")?(e.classList.remove("darknUI"),setPref(!1)):(e.classList.add("darknUI"),setPref(!0))}chrome.runtime.sendMessage({},function(){var e=setInterval(function(){if("complete"===document.readyState){clearInterval(e);var n=document.getElementsByTagName("body")[0],t=document.createElement("span"),r=(document.createElement("span"),'<div class="container">\n        <div class="bulb-light">\n          <div id="light"></div>\n          <div id="bulb">\n            <div class="bulb-top">\n              <div class="reflection"></div>\n            </div>\n            <div class="bulb-middle-1"></div>\n            <div class="bulb-bottom"></div>\n          </div>\n          <div id="base">\n            <div class="screw-top"></div>\n            <div class="screw-d"></div>\n          </div>\n        </div>\n      </div>');t.setAttribute("id","darknButton"),t.setAttribute("class","darknButton"),t.innerHTML=r,n.appendChild(t),getPref().then(function(e){e.darknUI?document.querySelector("body").classList.add("darknUI"):document.querySelector("body").classList.remove("darknUI"),document.getElementById("darknButton").onclick=toggleUI})}},10)});